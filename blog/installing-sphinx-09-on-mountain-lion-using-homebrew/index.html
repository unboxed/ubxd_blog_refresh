<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Installing Sphinx 0.9 on Mountain Lion using Homebrew</title>
    <link href="../../assets/stylesheets/application.css" rel="stylesheet" type="text/css" />
    <script src="../../assets/javascripts/application.js" type="text/javascript"></script>
  </head>

  <body class="blog blog_installing-sphinx-09-on-mountain-lion-using-homebrew blog_installing-sphinx-09-on-mountain-lion-using-homebrew_index">
    <header class="site-header">
      <div class="site-header__container">
        <div class="site-header__brand">
          Unboxed
        </div>
        <div class="site-header__page-title">
          Blog
        </div>
      </div>
    </header>

    <div class="blog-wrap">
      <div class="blog-article">
        <article class="blog-article__container">
          <div class="blog-article__header">
            <p class="blog-article__author">
              Attila Gyorffy
            </p>

            <p class="blog-article__published-date" id="articlePublishedDate" data-date="2012-11-26 18:25:00 UTC">
              <span>
                26 Nov 2012
              </span>
            </p>
            <script type="text/javascript">
              date = document.querySelector('#articlePublishedDate').getAttribute('data-date');
              document.querySelector('#articlePublishedDate span').outerHTML = moment(new Date(date)).fromNow();
            </script>
          </div>


          <h1 class="blog-article__title">
            Installing Sphinx 0.9 on Mountain Lion using Homebrew
          </h1>

          <div class="blog-article__content">
            <p>Here at Unboxed we often need to support older, legacy software. Keeping legacy software in a working condition while development platforms evolve could be sometimes tough.</p>

<p>Most Rails applications in the past have been making use of <a href="http://sphinxsearch.com/">Sphinx</a>&rsquo;s indexing service to implement search functionality.</p>

<p>Today I had a quite unpleasant scenario when I had to install Sphinx on a newly installed Mac OS, Mountain Lion.</p>

<p>I turned to my favourite package manager, Homebrew to install Sphinx, unfortunately it was not quite straight forward.</p>

<p>Here I&rsquo;m sharing my findings to help others saving quite a bit of time (and probably some hair also).</p>

<p>The main key aspects to keep in mind are the following:</p>

<ul>
<li>We need to install Sphinx version 0.9.9 to get Thinking Sphinx to recognise the service</li>
<li>Sphinx 0.9 does not compile with the default Homebrew formula, as it fails to build with the new LLVM compiler. We need to pass in some configurational options to the installer to work around that issue.</li>
</ul>

<p>First of all, check out the corresponding version of the Sphinx formula. We can do this by running the following:</p>

<p>$ brew versions sphinx
 $ cd <code>brew --prefix</code>
 $ git checkout 82cf700 Library/Formula/sphinx.rb</p>

<p>Now that we&rsquo;ve restored an older version of the Sphinx formula, let&rsquo;s make sure to set the necessary environment variable, instructing Homebrew to build the package using the GCC compiler:</p>

<p>$ export CC=&ldquo;gcc-4.2&rdquo;
 $ brew install sphinx &ndash;use-gcc</p>

<p>This should help you build and compile Sphinx 0.9.9 successfully. You can verify the installed version with the following command:</p>

<p>$ indexer &ndash;version
 Sphinx 0.9.9-release (r2117)
 Copyright &copy; 2001-2009, Andrew Aksyonoff</p>

<p>Hopefully this quick tutorial and explanation will help some of you.</p>

          </div>

          <div class="disqus-thread" id="disqus_thread"></div>
          <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES * * */
            var disqus_shortname = 'unboxedconsulting';
            // var disqus_identifier = '81b9f768-1dc6-466a-8a9c-fed33921e0a3'; // migration required to add this
            var disqus_url = 'https://www.unboxedconsulting.com/blog/installing-sphinx-09-on-mountain-lion-using-homebrew';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        </article>
      </div>

      <aside class="blog-info">
        <section class="blog-info__section blog-author">
          <div class="blog-author__header">
            <img class="blog-author__image" src="/assets/images/caricatures/graeme-mccubbin.png" alt="blog author"/>
            <p class="blog-author__name">
              <span>About Graeme</span>
            </p>
          </div>
          <div class="blog-author__bio">
            Iâ€™m Graeme, the Marketing Co-ordinator here at Unboxed Consulting. I'm passionate about communication and all things digital. Never afraid to be creative - who knows where it might lead? In my free time, I love to explore and enjoy cooking up a storm in the kitchen.
          </div>
        </section>


        <section class="blog-info__section blog-related">
          <p class="blog-related__header">Related reading</p>
          <ul>
            <li class="blog-related__links"><a href="/blog/how-does-the-product-owner-role-change-everything-in-software-delivery/">How does the Product Owner role change everything in software delivery?</a></li>

            <li class="blog-related__links"><a href="/blog/unboxed-roundup-our-links-for-w-c-15th-december-2014/">Unboxed Roundup: our links for w/c 15th December 2014</a></li>

            <li class="blog-related__links"><a href="/blog/cape-town-curator/">Happy Ashes!</a></li>

            <li class="blog-related__links"><a href="/blog/10-things-that-make-a-great-product-owner/">10 things that make a great Product Owner</a></li>
          </ul>
        </section>
      </aside>

    </div>
  </body>

  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600' rel='stylesheet' type='text/css'>
</html>
